<template>
  <div class="menu-desktop fixed z-50 right-0 inset-y-0 text-center p-4 h-screen bg-white shadow-xl">
    <div class="block">
      <nuxt-link class="block" to="/" title="Go to startpage">
        <svg version="1.1" viewBox="0 0 64 94" xmlns="http://www.w3.org/2000/svg">
          <g fill="none" fill-rule="evenodd">
            <g transform="translate(-113 -110)">
              <g transform="translate(109 110)">
                <g transform="translate(4)">
                  <rect width="63.099" height="63.099" fill="#FE272D"/>
                  <path d="m7.4667 23.754h7.6729v23.179h7.0541v-23.179h7.6729v-5.6205h-22.4v5.6205zm49.067 14.207c0 4.9016-3.8883 8.9725-10.82 8.9725-6.3819 0-11.369-3.1154-11.58-9.014h7.6921c0.21132 2.2431 1.6483 3.3231 3.677 3.3231 2.1132 0 3.4657-1.0385 3.4657-2.7416 0-5.4001-14.835-2.4924-14.75-12.836 0-5.5247 4.6068-8.5986 10.82-8.5986 6.4664 0 10.82 3.157 11.115 8.7232h-7.8189c-0.12679-1.8693-1.4792-2.9908-3.4234-3.0324-1.7328-0.041539-3.043 0.83078-3.043 2.6585 0 5.0678 14.666 2.7831 14.666 12.545z" fill="#fff" fill-rule="nonzero"/>
                  <path d="m2.9559e-12 74.77c0 2.7826 1.9346 4.7305 4.6775 4.7305 2.2129 0 3.8825-1.2323 4.4125-3.2464h-2.4911c-0.38427 0.79504-1.0866 1.1926-1.9479 1.1926-1.3913 0-2.3454-1.0336-2.3454-2.6766s0.95405-2.6766 2.3454-2.6766c0.8613 0 1.5636 0.39752 1.9479 1.1926h2.4911c-0.53003-2.0141-2.1996-3.2597-4.4125-3.2597-2.7429 0-4.6775 1.9611-4.6775 4.7438zm19.638-0.013251c0-2.7959-2.1069-4.757-4.757-4.757-2.6369 0-4.7835 1.9611-4.7835 4.757s2.1466 4.7703 4.7835 4.7703c2.6369 0 4.757-1.9744 4.757-4.7703zm-7.2216 0c0-1.6563 0.95405-2.7031 2.4646-2.7031 1.4841 0 2.4514 1.0468 2.4514 2.7031 0 1.6298-0.9673 2.7031-2.4514 2.7031-1.5106 0-2.4646-1.0733-2.4646-2.7031zm14.536-4.6245v5.7641l-3.7897-5.7641h-2.2659v9.302h2.2659v-5.7376l3.7897 5.7376h2.2659v-9.302h-2.2659zm3.909 9.302h2.2659v-3.7632h2.8357v-1.7623h-2.8357v-1.9611h3.7897v-1.8153h-6.0556v9.302zm12.456-1.1131c0-0.70229-0.54328-1.2456-1.3383-1.2456-0.80829 0-1.3516 0.54328-1.3516 1.2456 0 0.67579 0.54328 1.2191 1.3516 1.2191 0.79504 0 1.3383-0.54328 1.3383-1.2191zm0-5.393c0-0.70229-0.54328-1.2456-1.3383-1.2456-0.80829 0-1.3516 0.54328-1.3516 1.2456 0 0.67579 0.54328 1.2191 1.3516 1.2191 0.79504 0 1.3383-0.54328 1.3383-1.2191zm9.8718-2.7959h-5.6978v9.302h5.6978v-1.8153h-3.4319v-2.0406h3.0344v-1.7491h-3.0344v-1.8816h3.4319v-1.8153zm1.4311 5.552v-5.552h2.2659v5.5653c0 1.0998 0.54328 1.7358 1.6166 1.7358 1.0733 0 1.6431-0.63603 1.6431-1.7358v-5.5653h2.2659v5.552c0 2.5706-1.8021 3.8427-3.9487 3.8427-2.1599 0-3.8427-1.2721-3.8427-3.8427z" fill="#FE272D" fill-rule="nonzero"/>
                  <path d="m16.027 93.293h6.6519v-1.8418h-3.5777l0.33403-0.26059c1.4641-1.1632 3.0979-2.7663 3.0979-4.7349 0-1.6298-0.98055-2.9152-3.1802-2.9152-1.7623 0-3.2862 1.0071-3.3524 3.3524h2.1864c0-0.9143 0.39752-1.4443 1.0733-1.4443 0.68904 0 1.0071 0.45052 1.0071 1.1528 0 1.6298-2.1864 3.3127-4.2402 5.0088v1.6828zm7.6457-4.8365c0 2.8622 0.9673 4.9293 3.7234 4.9293 2.7561 0 3.7234-2.0671 3.7234-4.9293 0-2.8357-0.9673-4.9028-3.7234-4.9028-2.7561 0-3.7234 2.0671-3.7234 4.9028zm5.2201-0.15825 6.549e-4 0.15825c0 1.5371-0.15901 2.8091-1.4973 2.8091-1.3383 0-1.4973-1.2721-1.4973-2.8091l0.0028056-0.31477c0.025927-1.3482 0.2518-2.4679 1.4945-2.4679 1.2905 0 1.4845 1.2075 1.4967 2.6244zm3.3398 4.9948h6.6519v-1.8418h-3.5777l0.33403-0.26059c1.4641-1.1632 3.0979-2.7663 3.0979-4.7349 0-1.6298-0.98055-2.9152-3.1802-2.9152-1.7623 0-3.2862 1.0071-3.3524 3.3524h2.1864c0-0.9143 0.39752-1.4443 1.0733-1.4443 0.68904 0 1.0071 0.45052 1.0071 1.1528 0 1.6298-2.1864 3.3127-4.2402 5.0088v1.6828zm7.6457-4.8365c0 2.8622 0.9673 4.9293 3.7234 4.9293s3.7234-2.0671 3.7234-4.9293c0-2.8357-0.9673-4.9028-3.7234-4.9028s-3.7234 2.0671-3.7234 4.9028zm5.2208 0-0.006731 0.4837c-0.04088 1.3114-0.29567 2.3255-1.4906 2.3255-1.2905 0-1.4845-1.1828-1.4967-2.6455l-6.55e-4 -0.16363c0-1.4841 0.15901-2.7826 1.4973-2.7826s1.4973 1.2986 1.4973 2.7826z" fill="#FE272D" fill-rule="nonzero"/>
                </g>
              </g>
            </g>
          </g>
        </svg>
      </nuxt-link>

      <div class="absolute inset-y-1/2 w-full">
        <div class="-translate-y-1/2">
          <button class="menu-icon block w-full -ml-4 py-4" :class="{'active': isMainNavigationVisible }" @click="toggleMainNavigation()" title="Toogle Main Navigation">
            <svg class="m-auto" width="24px" height="19px" viewBox="0 0 24 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <polygon class="menu-icon-line-bottom" fill="#FE272D" fill-rule="nonzero" points="24 16 24 19 0 19 0 16"></polygon>
                <polygon class="menu-icon-line-middle" fill="#FE272D" fill-rule="nonzero" points="24 8 24 11 0 11 0 8"></polygon>
                <polygon class="menu-icon-line-top" fill="#FE272D" fill-rule="nonzero" points="24 0 24 3 0 3 0 0"></polygon>
              </g>
          </svg>
          </button>
        </div>
      </div>

      <div class="rotate-270 absolute right-0 bottom-0 mb-10">
        <a class="py-2 px-3 bg-red text-white focus:bg-blue hover:bg-blue inline-block" :href="settings.tito_overview_link" target="_blank" rel="noopener noreferrer">Tickets!</a>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  props: {
    settings: Object
  },
  computed: {
    isMainNavigationVisible() {
      return this.$store.state.interactions.isMainNavigationVisible
    }
  },
  methods: {
    toggleMainNavigation() {
      this.$store.commit('interactions/setMainNavigationVisibility', !this.isMainNavigationVisible)
      this.$nextTick(() => {
        if(this.isMainNavigationVisible) {
          document.querySelectorAll('#navigation a')[0].focus()
        }
      }, 0)
    }
  }
}
</script>